<!DOCTYPE html> <!--Inicio do documento-->
<html lang="pt-br">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Havaianas Quiz</title>
<style>
    body { /*Configuracoes do corpo*/
    display: flex;/*Deixa o conteudo flexivel*/
    height: 90vh; /*Altura*/
    font-family: Arial, sans-serif;/*Tipo da fonte*/
    background: #f2f2f2;/*Cor de fundo*/
    padding: 20px;/*Espaçamento interno*/
  }
    #overlay{/*Configuracoes da sobreposição*/
      position: fixed;/*Fica fixado na tela mesmo se rolar ela*/
      top: 0;/*Distancia do topo*/
      left:0;/*Distancia da esquerda*/
      width:100%;/*Largura*/
      height: 100%;/*Altura*/
      pointer-events: none;/*Deixa clicar "atraves" da cor*/
      z-index: 0;/*Fica na base*/
      transition: 0.5s;/*Transicao da cor*/
     }
  #quiz-container {/*Configuracoes da Caixa/conteiner das perguntas*/
    position:relative; /*Conteiner em posicao relativa*/
    z-index: 1; /*Posicao relativa 1 para overlay nao sobrepor*/
    width: 70vw; /*Largura*/
    max-width: 600px; /*Largura maxima*/
    margin: auto;/*Espacamento externo automatico*/
    background: #fff;/*Cor de fundo*/
    padding: 20px; /*Espacamento interno*/
    border-radius: 10px; /*Raio da borda*/
    box-shadow: 0 0 10px rgba(0,0,0,0.1);/*Sombra do conteiner*/
  }
  .question {/*Zona da pergunta*/
    font-size: 20px;/*Tamanho da fonte*/
    margin-bottom: 15px;/*Espacamento externo de baixo*/
    white-space: pre-line;/*Lê os \n do HTML*/
  }
  #options button{/*Botao das alternativas*/
    width: 100%;/*Largura*/
    text-align: left;/*Posicao do texto*/
    padding: 10px;/*Espacamento interno*/
    margin: 5px 0;/*Espacamento externo*/
    border: 1px solid #ccc; /*Caracteristifcas da borda*/
    background: #eee;/*Cor de fundo*/
    border-radius: 5px;/*Raio da borda*/
    cursor: pointer;/*Altera o cursor para mao*/
  }
  #timer {/*Temporizador*/
    font-weight: bold;/*Forca do peso*/
    margin-bottom: 10px;/*Espacamento externo de baixo*/
  }
</style>
</head>
<body> <!--Inicio do corpo-->
  <div id="overlay"></div><!--Div que subrepõe a tela-->
  <div id="quiz-container"> <!--Caixa/conteiner das perguntas-->
    <div id="timer">Tempo: <span id="time-left"></span>s</div><!--Temporizador das perguntas-->
    <div class="question" id="question-text"></div> <!--Zona da pergunta-->
    <div class="options" id="options"></div> <!--Conteiner das alternativas-->
    <div id="result"></div><!--Div de resultado, que nem aparece mas não atrapalha-->
  </div>
    <script>
      // CONFIGURAÇÕES
      let tempoPorPergunta = 10; // segundos

      const quiz = [
      //Constante quiz com uma lista que contém Pergunta(.question), Lista com as Alternativas(.options button), Resposta Correta e o numero de Pontos por acertar
        {//Simlando a primeira pagina como se fosse uma pergunta para iniciar o quiz
          pergunta: `Bem-vindo ao Quiz Havaianas!\nVence se terminar o quiz com mais de 60 pontos!\n\nProjeto realizado por:\nMateus de Araújo de Pontes Dias\n\nClique no botão para começar!`,
          alternativas: ["Começar"],
          correta: 0,  // não importa
          pontos: 0    // não dá pontos
        },
        {
          pergunta: "1- Em que ano a marca Havaianas foi fundada?",
          alternativas: ["1958", "1962", "1965", "1970", "1975"],
          correta: 1,
          pontos: 10
        },
        {
          pergunta: "2- Qual foi o primeiro modelo lançado pelas Havaianas?",
          alternativas: [
            "Havaianas Tradicional",
            "Havaianas Slim",
            "Havaianas Surf",
            "Havaianas Top",
            "Havaianas Flash"
        ],
          correta: 0,
          pontos: 10
        },
        {
          pergunta: "3- Qual destas cores NÃO fazia parte do modelo original?",
          alternativas: ["Azul", "Branco", "Verde", "Vermelho", "Preto"],
          correta: 4,
          pontos: 10
        },
        {
          pergunta: "4- Qual empresa é dona da marca Havaianas?",
          alternativas: [
            "Alpargatas S.A.",
            "Votorantim",
            "Grupo Pão de Açúcar",
            "Nike",
            "Renner"
          ],
          correta: 0,
          pontos: 10
        },
        {
          pergunta: "5- Qual foi a inovação introduzida nas Havaianas Slim?",
          alternativas: [
            "Solado mais fino",
            "Tiras mais largas",
            "Antiderrapante",
            "Arco anatômico",
            "Resistente à água salgada"
          ],
          correta: 0,
          pontos: 10,
        },
        {
          pergunta: "6- Em que cidade brasileira foi inaugurada a primeira loja própria das Havaianas?",
          alternativas: [
            "Rio de Janeiro",
            "São Paulo",
            "Salvador",
            "Brasília",
            "Florianópolis"
          ],
          correta: 1,
          pontos: 10,
        },
        {
          pergunta: "7- Quantos pares de Havaianas são vendidos por ano aproximadamente?",
          alternativas: [
            "50 milhões",
            "100 milhões",
            "150 milhões",
            "200 milhões",
            "250 milhões"
          ],
          correta: 3,
          pontos: 10,
        },
        {
          pergunta: "8- Em que a havaianas se inspiraram para o seu modelo?",
          alternativas: [
            "sandalias zori japão",
            "Sandálias Egípcias",
            "Cáligas Romanas",
            "Crépida Grega",
            "Baxea Romana"
          ],
          correta: 1,
          pontos: 10,
        },
        {
          pergunta: "9- Qual o principal meio de transporte de vendas da havaianas em 1964?",
          alternativas: [
            "Caminhão ",
            "Kombi",
            "Carro",
            "Motocicleta",
            "Onibûs"
          ],
          correta: 1,
          pontos: 10,
        },
        {
        pergunta: "10- Quando foi patenteada a havaianas 1966?",
          alternativas: [
            "1980",
            "1965",
            "1962",
            "1974",
            "1981"
          ],
          correta: 1,
          pontos: 10,
        }
      ];

      // IMAGENS DE FUNDO POR PERGUNTA
      const fundos = [//Constante fundos que armazena as imagens em lista
        "url('../imagens/logohavaianas.webp')",
        "url('../imagens/havaianas1.jpg')",
        "url('../imagens/havaianas2.webp')",
        "url('../imagens/havaianas3.jpg')",
        "url('../imagens/havaianas4.jpg')",
        "url('../imagens/havaianas5.jpg')",
        "url('../imagens/havaianas6.webp')",
        "url('../imagens/havaianas7.jpg')",
        "url('../imagens/havaianas8.webp')",
        "url('../imagens/havaianas9.webp')",
        "url('../imagens/havaianas10.webp')",
        "url('../imagens/havaianas-final.webp')"
      ];

      const sons = [//Constante sons que armazena os efeitos sonoros em lista
          "../sons/correct-audio.mp3",     //som de acerto
          "../sons/wronganswer-quiz.mp3",  //som de erro
          "../sons/victory-sound-quiz.mp3",//som de vitória
          "../sons/nota-baixa-quiz.mp3",   //som de derrota
          "../sons/pe-na-areia.mp3"        //musica de fundo
      ];

      const musicaFundo = new Audio(sons[4]);//Constante para musica de fundo que executa o audio da lista sons
      musicaFundo.loop = true;   // Faz a música repetir quando acabar
      musicaFundo.volume = 0.5;  // Define volume (0.0 a 1.0) para não ficar muito alto

      let indice = 0; //Variavel para indice da pergunta
      let pontuacao = 0;//Variavel para a pontuacao do jogador
      let tempo;//Variavel para o temporizador
      let contador;//Variavel variavel contadora para o temporizador

      function iniciarPergunta() {//incio da funcao
        document.body.style.backgroundImage = fundos[indice] || 'none';//Percorre a lista fundo de acordo com o indice
        if (indice >= 11){
          document.body.style.backgroundImage = fundos[11] || 'none';
        }
        document.body.style.backgroundSize = 'cover';//Tamanho do fundo
        document.body.style.backgroundPosition = 'center';//Posicao do fundo
        if (indice === 0) {
          document.body.style.display = 'block';//Mantem o conteiner em cima para a primeria imagem
          document.getElementById('quiz-container').style.textAlign = 'center'//Centraliza o texto
        }
        else {//Deixa o conteiner flex no restante do quiz
          document.body.style.display = 'flex';
        }
        
        if (indice >= quiz.length) {//Executa a funcao mostrar resultado no fim do quiz
          mostrarResultado();
          return;
        }

        const q = quiz[indice];//Constante que percorre a lista com as perguntas
        document.getElementById("question-text").textContent = q.pergunta;//Coloca o texto da lista com as perguntas com as configuracoes do id 

        const opcoesDiv = document.getElementById("options");//Constante que pega a div onde os botões das alternativas vão aparecer
        opcoesDiv.innerHTML = "";//Limpa as alternativas antigas antes de colocar as novas

        q.alternativas.forEach((alt, i) => {//Percorre todas as alternativas da pergunta atual
          const btn = document.createElement("button");//Cria um botão para cada alternativa
          btn.textContent = alt;//Define o texto do botão como o texto da alternativa
          btn.onclick = () => responder(i); //Chama a função responder no clique
          opcoesDiv.appendChild(btn);//Adiciona o botão dentro da div das opções
        });

        if (q.pontos === 0) {// Se é a pergunta inicial (pontos = 0), não mostra timer
          document.getElementById("timer").style.display = "none";
          clearInterval(contador);
        } else { //Senão, inicia o temporizador
          document.getElementById("timer").style.display = "block";//Fixa a posicao do timer
          tempo = tempoPorPergunta;//Define tempo como uma variavel
          document.getElementById("time-left").textContent = tempo;//Define o texto de tempo restante como "tempo"
          iniciarTimer();//inicia a funcao do temporizador
        }
      }//Fim da funcao

      function iniciarTimer() {//Funcao do temporizador
        clearInterval(contador);//Reseta o tempo toda vez que executa
        contador = setInterval(() => {//Define o intervalo como o tempo - 1 (regressivo)
          tempo--;
          document.getElementById("time-left").textContent = tempo;//Define o texto de tempo restante como "tempo"

          if (tempo <= 0) {         //Se o tempo chegar a 0, 
            clearInterval(contador);//reinicia
            indice++;               //e restaura o tempo,
            iniciarPergunta();      //e vai para a proxima pergunta
          }
        }, 1000);
      }//Fim da funcao

      function responder(i) {//Inicio da funcao 

      // Se o usuário clicou no botão da tela inicial (índice 0), solta o som
        if (indice === 0) {
          musicaFundo.play().catch(error => {//Inicia a musica
            console.log("O navegador bloqueou o autoplay. O usuário precisa interagir.", error);//Caso o navegador bloqueie (.catch error) informa a mensagem no console.
          });
        }

        clearInterval(contador);//Reinicia o tempo toda vez que executa
        const q = quiz[indice];//Constante que percorre a lista com as perguntas
        const overlay=document.getElementById("overlay")//Constante overlay com as configuracoes do id overlay
        if (i === q.correta) {//Se o valor do elemento selecionado for igual a alternativa correta
          new Audio(sons[0]).play();//Toca o efeito sonoro de acerto,
          pontuacao += q.pontos;//Adiciona os pontos
          overlay.style.backgroundColor="rgba(0,255,0,0.5)"//E inicia o overlay verde
        } else {//Senão
          new Audio(sons[1]).play();//Toca o efeito sonoro de erro,
          overlay.style.backgroundColor="rgba(255,0,0)"//E inicia o overlay vermelho
        }
        setTimeout(//Espera o tempo
          ()=> {
              overlay.style.backgroundColor = "transparent";//Deixa o overlay invisivel
              indice++;//Soma o indice em 1
              iniciarPergunta();//Inicia a funcao
          }, 1000);
      }//Fim da funcao

      function mostrarResultado() {//Inicio da funcao
        if (pontuacao >= 60) {//Se a variavel for maior ou igual a 60, deixa a cor de fundo do conteiner verde
          document.getElementById('quiz-container').style.backgroundColor = '#3AE077'
          new Audio(sons[2]).play();//Toca o efeito sonoro de vitoria
        } else {//Senão, deixa a cor de fundo vermelha
          document.getElementById('quiz-container').style.backgroundColor = '#E16550'
          new Audio(sons[3]).play();//Toca o efeito sonoro de derrota
        }
        document.getElementById("quiz-container").innerHTML = //Substitui o texto do conteiner
        `
          <h2>Resultado Final</h2>
          <p>Pontuação total: <strong>${pontuacao}</strong></p>
          <p>Você respondeu ${quiz.length-1} perguntas.</p>
          <p>Cada pergunta vale 10 pontos.</p>
          <p>Obrigado por participar!!!</p>
        `;
      }

      iniciarPergunta();//Chama a funcao iniciar pergunta
    </script>
</body><!--Fim do corpo-->
</html><!--Fim do arquivo-->
